<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üê± JERCAT Trading Platform - Ultimate Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.8.0/dist/web3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #000000 0%, #1a1a2e 100%);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .glass-effect {
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .gradient-gold {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
        }

        .gradient-silver {
            background: linear-gradient(135deg, #C0C0C0 0%, #808080 100%);
        }

        .gradient-bronze {
            background: linear-gradient(135deg, #CD7F32 0%, #8B4513 100%);
        }

        .gradient-diamond {
            background: linear-gradient(135deg, #b9f2ff 0%, #00d4ff 100%);
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .animate-spin {
            animation: spin 1s linear infinite;
        }

        .loading-spinner {
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top: 3px solid #FFD700;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        .hidden { 
            display: none !important; 
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes slideDown {
            from { max-height: 0; opacity: 0; }
            to { max-height: 500px; opacity: 1; }
        }

        .slide-down {
            animation: slideDown 0.3s ease-out;
        }

        .nav-btn {
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
        }

        .nav-btn.active {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            transform: scale(1.05);
        }

        .stat-card {
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .tier-badge {
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            display: inline-block;
            animation: fadeIn 0.5s ease-out;
        }

        .tier-bronze {
            background: linear-gradient(135deg, #CD7F32 0%, #8B4513 100%);
            box-shadow: 0 0 20px rgba(205, 127, 50, 0.5);
        }

        .tier-silver {
            background: linear-gradient(135deg, #C0C0C0 0%, #808080 100%);
            box-shadow: 0 0 20px rgba(192, 192, 192, 0.5);
        }

        .tier-gold {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .tier-diamond {
            background: linear-gradient(135deg, #b9f2ff 0%, #00d4ff 100%);
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.5);
        }

        .trade-entry {
            border-left: 3px solid #10b981;
            transition: all 0.3s ease;
        }

        .trade-entry:hover {
            background: rgba(16, 185, 129, 0.1);
            transform: translateX(5px);
        }

        input[type="number"], input[type="text"], select {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 10px;
            border-radius: 8px;
            width: 100%;
            transition: all 0.3s ease;
        }

        input[type="number"]:focus, input[type="text"]:focus, select:focus {
            outline: none;
            border-color: #FFD700;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }

        button {
            transition: all 0.3s ease;
        }

        button:hover:not(:disabled) {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
        }

        .progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #FFD700 0%, #FFA500 100%);
            transition: width 0.3s ease;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 16px 24px;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            z-index: 9999;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from { transform: translateX(400px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .notification.success { background: #10b981; }
        .notification.error { background: #ef4444; }
        .notification.info { background: #3b82f6; }

        .crypto-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
        }

        .token-list-item {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .token-list-item:hover {
            background: rgba(255, 215, 0, 0.1);
            transform: translateX(5px);
        }

        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }

        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header class="glass-effect sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="text-4xl animate-pulse">üê±</div>
                    <div>
                        <h1 class="text-2xl font-bold gradient-gold bg-clip-text text-transparent">JERCAT Platform</h1>
                        <p class="text-sm text-gray-400">Ultimate Trading Edition</p>
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div id="tierBadge" class="tier-badge hidden">Loading...</div>
                    <button id="walletBtn" onclick="connectWallet()" class="gradient-gold text-black font-bold px-6 py-3 rounded-lg">
                        üîó Connect Wallet
                    </button>
                </div>
            </div>

            <!-- Navigation -->
            <nav class="mt-6 flex space-x-2 overflow-x-auto scrollbar-hide">
                <button onclick="showSection('home')" class="nav-btn active glass-effect px-6 py-3 rounded-lg whitespace-nowrap">
                    üè† Accueil
                </button>
                <button onclick="showSection('dca')" class="nav-btn glass-effect px-6 py-3 rounded-lg whitespace-nowrap">
                    üìä Bot DCA
                </button>
                <button onclick="showSection('dex')" class="nav-btn glass-effect px-6 py-3 rounded-lg whitespace-nowrap">
                    üí± JERCAT DEX
                </button>
                <button onclick="showSection('competition')" class="nav-btn glass-effect px-6 py-3 rounded-lg whitespace-nowrap">
                    ü§ñ Comp√©tition IA
                </button>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">

        <!-- HOME SECTION -->
        <section id="homeSection" class="fade-in">
            <div class="glass-effect rounded-2xl p-8 mb-8">
                <h2 class="text-3xl font-bold mb-6 gradient-gold bg-clip-text text-transparent">
                    üéØ Bienvenue sur JERCAT Platform
                </h2>
                
                <div id="notConnected" class="text-center py-12">
                    <div class="text-6xl mb-4">üîí</div>
                    <h3 class="text-2xl font-bold mb-4">Connectez votre wallet</h3>
                    <p class="text-gray-400 mb-6">Connectez MetaMask pour acc√©der √† la plateforme</p>
                    <button onclick="connectWallet()" class="gradient-gold text-black font-bold px-8 py-4 rounded-lg text-lg">
                        üîó Connecter MetaMask
                    </button>
                </div>

                <div id="walletConnected" class="hidden">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <div class="stat-card glass-effect rounded-xl p-6 text-center">
                            <p class="text-gray-400 mb-2">Votre Wallet</p>
                            <p id="userAddress" class="text-sm font-mono text-yellow-400">-</p>
                        </div>
                        <div class="stat-card glass-effect rounded-xl p-6 text-center">
                            <p class="text-gray-400 mb-2">Holdings JERCAT</p>
                            <p id="jercatBalance" class="text-3xl font-bold gradient-gold bg-clip-text text-transparent">0</p>
                        </div>
                        <div class="stat-card glass-effect rounded-xl p-6 text-center">
                            <p class="text-gray-400 mb-2">Votre Tier</p>
                            <div id="userTierDisplay" class="text-2xl font-bold">-</div>
                        </div>
                    </div>

                    <!-- Tier Requirements -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
                        <div class="glass-effect rounded-xl p-6 border-2 border-orange-700">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-xl font-bold">ü•â Bronze</h3>
                                <span class="tier-bronze text-xs px-3 py-1 rounded-full">100 JERCAT</span>
                            </div>
                            <ul class="text-sm text-gray-300 space-y-2">
                                <li>‚úì Acc√®s Bot DCA (Mode Paper)</li>
                                <li>‚úì Dashboard basique</li>
                                <li>‚úì Support communaut√©</li>
                            </ul>
                        </div>

                        <div class="glass-effect rounded-xl p-6 border-2 border-gray-400">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-xl font-bold">ü•à Silver</h3>
                                <span class="tier-silver text-xs px-3 py-1 rounded-full">500 JERCAT</span>
                            </div>
                            <ul class="text-sm text-gray-300 space-y-2">
                                <li>‚úì Tout Bronze +</li>
                                <li>‚úì Bot DCA (Mode R√©el)</li>
                                <li>‚úì DEX Access</li>
                                <li>‚úì Analytics avanc√©s</li>
                            </ul>
                        </div>

                        <div class="glass-effect rounded-xl p-6 border-2 border-yellow-500">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-xl font-bold">ü•á Gold</h3>
                                <span class="tier-gold text-xs px-3 py-1 rounded-full">1000 JERCAT</span>
                            </div>
                            <ul class="text-sm text-gray-300 space-y-2">
                                <li>‚úì Tout Silver +</li>
                                <li>‚úì Comp√©tition IA</li>
                                <li>‚úì API Access</li>
                                <li>‚úì Support prioritaire</li>
                            </ul>
                        </div>

                        <div class="glass-effect rounded-xl p-6 border-2 border-cyan-400">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-xl font-bold">üíé Diamond</h3>
                                <span class="tier-diamond text-xs px-3 py-1 rounded-full">5000 JERCAT</span>
                            </div>
                            <ul class="text-sm text-gray-300 space-y-2">
                                <li>‚úì Tout Gold +</li>
                                <li>‚úì Custom Strategies</li>
                                <li>‚úì VIP Features</li>
                                <li>‚úì Private Signals</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Quick Stats -->
                    <div class="glass-effect rounded-xl p-6">
                        <h3 class="text-xl font-bold mb-4">üìà Statistiques de la Plateforme</h3>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <div class="text-center">
                                <p class="text-3xl font-bold text-green-400">1,247</p>
                                <p class="text-sm text-gray-400">Utilisateurs Actifs</p>
                            </div>
                            <div class="text-center">
                                <p class="text-3xl font-bold text-blue-400">$2.4M</p>
                                <p class="text-sm text-gray-400">Volume 24h</p>
                            </div>
                            <div class="text-center">
                                <p class="text-3xl font-bold text-purple-400">523</p>
                                <p class="text-sm text-gray-400">Trades Actifs</p>
                            </div>
                            <div class="text-center">
                                <p class="text-3xl font-bold text-yellow-400">94.2%</p>
                                <p class="text-sm text-gray-400">Success Rate</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- DCA BOT SECTION -->
        <section id="dcaSection" class="hidden fade-in">
            <div class="glass-effect rounded-2xl p-8 mb-8">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-3xl font-bold gradient-gold bg-clip-text text-transparent">
                        üìä Bot Trading DCA
                    </h2>
                    <div class="flex items-center space-x-4">
                        <span id="dcaStatus" class="px-4 py-2 rounded-lg bg-gray-700 text-gray-300">Inactif</span>
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <span class="text-sm text-gray-400">Mode:</span>
                            <input type="checkbox" id="modeSwitch" onchange="toggleMode()" class="hidden">
                            <div class="relative">
                                <div class="w-16 h-8 bg-gray-600 rounded-full shadow-inner"></div>
                                <div class="absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform duration-300" id="modeSwitchDot"></div>
                            </div>
                            <span id="modeLabel" class="text-sm font-bold text-yellow-400">Paper</span>
                        </label>
                    </div>
                </div>

                <!-- Config Panel -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                    <div class="lg:col-span-1">
                        <div class="glass-effect rounded-xl p-6">
                            <h3 class="text-lg font-bold mb-4">‚öôÔ∏è Configuration</h3>
                            
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm text-gray-400 mb-2">Token</label>
                                    <select id="dcaToken" class="w-full">
                                        <option value="BTC">Bitcoin (BTC)</option>
                                        <option value="ETH" selected>Ethereum (ETH)</option>
                                        <option value="BNB">Binance Coin (BNB)</option>
                                        <option value="ADA">Cardano (ADA)</option>
                                        <option value="SOL">Solana (SOL)</option>
                                    </select>
                                </div>

                                <div>
                                    <label class="block text-sm text-gray-400 mb-2">Montant par ordre ($)</label>
                                    <input type="number" id="dcaAmount" value="100" min="10" step="10">
                                </div>

                                <div>
                                    <label class="block text-sm text-gray-400 mb-2">Intervalle</label>
                                    <select id="dcaInterval">
                                        <option value="1">1 heure</option>
                                        <option value="4">4 heures</option>
                                        <option value="8">8 heures</option>
                                        <option value="24" selected>24 heures</option>
                                    </select>
                                </div>

                                <div>
                                    <label class="block text-sm text-gray-400 mb-2">Nombre d'ordres</label>
                                    <input type="number" id="dcaOrders" value="10" min="1" max="100">
                                </div>

                                <div>
                                    <label class="block text-sm text-gray-400 mb-2">Take Profit (%)</label>
                                    <input type="number" id="dcaTakeProfit" value="10" min="1" step="0.5">
                                </div>

                                <div>
                                    <label class="block text-sm text-gray-400 mb-2">Stop Loss (%)</label>
                                    <input type="number" id="dcaStopLoss" value="5" min="1" step="0.5">
                                </div>

                                <button id="dcaStartBtn" onclick="startDCA()" class="w-full gradient-gold text-black font-bold py-3 rounded-lg">
                                    üöÄ D√©marrer le Bot
                                </button>

                                <button id="dcaStopBtn" onclick="stopDCA()" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded-lg hidden">
                                    ‚èπÔ∏è Arr√™ter le Bot
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Charts & Stats -->
                    <div class="lg:col-span-2">
                        <div class="glass-effect rounded-xl p-6 mb-6">
                            <h3 class="text-lg font-bold mb-4">üìà Performance</h3>
                            <div class="chart-container">
                                <canvas id="dcaChart"></canvas>
                            </div>
                        </div>

                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <div class="glass-effect rounded-xl p-4 text-center">
                                <p class="text-sm text-gray-400 mb-1">Investissement</p>
                                <p id="dcaTotalInvested" class="text-2xl font-bold text-blue-400">$0</p>
                            </div>
                            <div class="glass-effect rounded-xl p-4 text-center">
                                <p class="text-sm text-gray-400 mb-1">Valeur Actuelle</p>
                                <p id="dcaCurrentValue" class="text-2xl font-bold text-purple-400">$0</p>
                            </div>
                            <div class="glass-effect rounded-xl p-4 text-center">
                                <p class="text-sm text-gray-400 mb-1">P&L</p>
                                <p id="dcaPnL" class="text-2xl font-bold text-green-400">$0</p>
                            </div>
                            <div class="glass-effect rounded-xl p-4 text-center">
                                <p class="text-sm text-gray-400 mb-1">ROI</p>
                                <p id="dcaROI" class="text-2xl font-bold text-yellow-400">0%</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Trade History -->
                <div class="glass-effect rounded-xl p-6">
                    <h3 class="text-lg font-bold mb-4">üìú Historique des Trades</h3>
                    <div id="dcaTradeHistory" class="space-y-2 max-h-96 overflow-y-auto scrollbar-hide">
                        <p class="text-gray-400 text-center py-8">Aucun trade pour le moment</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- DEX SECTION -->
        <section id="dexSection" class="hidden fade-in">
            <div class="glass-effect rounded-2xl p-8 mb-8">
                <h2 class="text-3xl font-bold mb-6 gradient-gold bg-clip-text text-transparent">
                    üí± JERCAT DEX - √âchange D√©centralis√©
                </h2>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Swap Panel -->
                    <div class="glass-effect rounded-xl p-6">
                        <h3 class="text-xl font-bold mb-6">üîÑ Swap de Tokens</h3>

                        <div class="space-y-4">
                            <div class="glass-effect rounded-lg p-4">
                                <label class="block text-sm text-gray-400 mb-2">De</label>
                                <div class="flex items-center space-x-3">
                                    <select id="tokenFrom" class="flex-1">
                                        <option value="BNB">BNB</option>
                                        <option value="BUSD">BUSD</option>
                                        <option value="USDT">USDT</option>
                                        <option value="ETH">ETH</option>
                                        <option value="JERCAT">JERCAT</option>
                                    </select>
                                    <input type="number" id="amountFrom" placeholder="0.0" value="1" step="0.01" class="flex-1">
                                </div>
                                <p class="text-xs text-gray-500 mt-2">Balance: <span id="balanceFrom">0</span></p>
                            </div>

                            <div class="flex justify-center">
                                <button onclick="swapTokens()" class="bg-yellow-600 hover:bg-yellow-700 rounded-full p-3">
                                    üîÑ
                                </button>
                            </div>

                            <div class="glass-effect rounded-lg p-4">
                                <label class="block text-sm text-gray-400 mb-2">Vers</label>
                                <div class="flex items-center space-x-3">
                                    <select id="tokenTo" class="flex-1">
                                        <option value="BNB">BNB</option>
                                        <option value="BUSD">BUSD</option>
                                        <option value="USDT">USDT</option>
                                        <option value="ETH">ETH</option>
                                        <option value="JERCAT" selected>JERCAT</option>
                                    </select>
                                    <input type="number" id="amountTo" placeholder="0.0" readonly class="flex-1 bg-gray-700">
                                </div>
                                <p class="text-xs text-gray-500 mt-2">Balance: <span id="balanceTo">0</span></p>
                            </div>

                            <div class="glass-effect rounded-lg p-4">
                                <div class="flex justify-between text-sm mb-2">
                                    <span class="text-gray-400">Prix</span>
                                    <span id="swapPrice" class="font-bold">-</span>
                                </div>
                                <div class="flex justify-between text-sm mb-2">
                                    <span class="text-gray-400">Slippage</span>
                                    <span class="font-bold">0.5%</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-400">Frais r√©seau</span>
                                    <span id="networkFee" class="font-bold">~0.001 BNB</span>
                                </div>
                            </div>

                            <button id="swapBtn" onclick="executeSwap()" class="w-full gradient-gold text-black font-bold py-4 rounded-lg text-lg">
                                üí´ √âchanger
                            </button>
                        </div>
                    </div>

                    <!-- Market Info -->
                    <div class="space-y-6">
                        <div class="glass-effect rounded-xl p-6">
                            <h3 class="text-xl font-bold mb-4">üìä Informations du March√©</h3>
                            <div class="space-y-4">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-400">Prix JERCAT</span>
                                    <span class="text-xl font-bold text-yellow-400">$0.0245</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-400">Volume 24h</span>
                                    <span class="text-xl font-bold text-blue-400">$127,450</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-400">Liquidit√©</span>
                                    <span class="text-xl font-bold text-green-400">$2.4M</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-400">Market Cap</span>
                                    <span class="text-xl font-bold text-purple-400">$1.2M</span>
                                </div>
                            </div>
                        </div>

                        <div class="glass-effect rounded-xl p-6">
                            <h3 class="text-xl font-bold mb-4">üèÜ Top Paires</h3>
                            <div class="space-y-3">
                                <div class="token-list-item flex justify-between items-center p-3 rounded-lg glass-effect">
                                    <span class="font-bold">JERCAT/BNB</span>
                                    <span class="text-green-400">+12.5%</span>
                                </div>
                                <div class="token-list-item flex justify-between items-center p-3 rounded-lg glass-effect">
                                    <span class="font-bold">JERCAT/BUSD</span>
                                    <span class="text-green-400">+8.3%</span>
                                </div>
                                <div class="token-list-item flex justify-between items-center p-3 rounded-lg glass-effect">
                                    <span class="font-bold">JERCAT/USDT</span>
                                    <span class="text-red-400">-2.1%</span>
                                </div>
                            </div>
                        </div>

                        <div class="glass-effect rounded-xl p-6">
                            <h3 class="text-xl font-bold mb-4">‚è±Ô∏è Transactions R√©centes</h3>
                            <div id="recentTxs" class="space-y-2 max-h-48 overflow-y-auto scrollbar-hide">
                                <p class="text-gray-400 text-sm">Chargement...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- COMPETITION IA SECTION -->
        <section id="competitionSection" class="hidden fade-in">
            <div class="glass-effect rounded-2xl p-8 mb-8">
                <h2 class="text-3xl font-bold mb-6 gradient-gold bg-clip-text text-transparent">
                    ü§ñ Comp√©tition IA - Battle des Algorithmes
                </h2>

                <!-- Competition Controls -->
                <div class="glass-effect rounded-xl p-6 mb-6">
                    <div class="flex flex-wrap items-center justify-between gap-4">
                        <div>
                            <h3 class="text-xl font-bold mb-2">üí∞ Capital Initial par IA</h3>
                            <input type="number" id="aiCapital" value="10000" min="1000" step="1000" class="w-48">
                        </div>
                        <div>
                            <h3 class="text-xl font-bold mb-2">‚è±Ô∏è Dur√©e (heures)</h3>
                            <select id="aiDuration" class="w-48">
                                <option value="1">1 heure</option>
                                <option value="4">4 heures</option>
                                <option value="24" selected>24 heures</option>
                                <option value="168">7 jours</option>
                            </select>
                        </div>
                        <div>
                            <button id="aiStartBtn" onclick="startAICompetition()" class="gradient-gold text-black font-bold px-8 py-4 rounded-lg text-lg">
                                üöÄ Lancer la Comp√©tition
                            </button>
                            <button id="aiStopBtn" onclick="stopAICompetition()" class="bg-red-600 hover:bg-red-700 text-white font-bold px-8 py-4 rounded-lg hidden">
                                ‚èπÔ∏è Arr√™ter
                            </button>
                        </div>
                    </div>
                </div>

                <!-- AI Leaderboard -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
                    <div id="ai1Card" class="glass-effect rounded-xl p-6 border-2 border-blue-500">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-xl font-bold">ü§ñ Alpha Bot</h3>
                            <span class="text-2xl">ü•á</span>
                        </div>
                        <div class="space-y-2">
                            <div class="flex justify-between">
                                <span class="text-gray-400">Capital</span>
                                <span id="ai1Capital" class="font-bold text-blue-400">$10,000</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">P&L</span>
                                <span id="ai1PnL" class="font-bold text-green-400">$0</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">ROI</span>
                                <span id="ai1ROI" class="font-bold text-yellow-400">0%</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Trades</span>
                                <span id="ai1Trades" class="font-bold">0</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Win Rate</span>
                                <span id="ai1WinRate" class="font-bold">0%</span>
                            </div>
                        </div>
                        <p class="text-xs text-gray-500 mt-4">Strat√©gie: Scalping Agressif</p>
                    </div>

                    <div id="ai2Card" class="glass-effect rounded-xl p-6 border-2 border-green-500">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-xl font-bold">ü§ñ Beta Bot</h3>
                            <span class="text-2xl">ü•à</span>
                        </div>
                        <div class="space-y-2">
                            <div class="flex justify-between">
                                <span class="text-gray-400">Capital</span>
                                <span id="ai2Capital" class="font-bold text-blue-400">$10,000</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">P&L</span>
                                <span id="ai2PnL" class="font-bold text-green-400">$0</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">ROI</span>
                                <span id="ai2ROI" class="font-bold text-yellow-400">0%</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Trades</span>
                                <span id="ai2Trades" class="font-bold">0</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Win Rate</span>
                                <span id="ai2WinRate" class="font-bold">0%</span>
                            </div>
                        </div>
                        <p class="text-xs text-gray-500 mt-4">Strat√©gie: Swing Trading</p>
                    </div>

                    <div id="ai3Card" class="glass-effect rounded-xl p-6 border-2 border-purple-500">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-xl font-bold">ü§ñ Gamma Bot</h3>
                            <span class="text-2xl">ü•â</span>
                        </div>
                        <div class="space-y-2">
                            <div class="flex justify-between">
                                <span class="text-gray-400">Capital</span>
                                <span id="ai3Capital" class="font-bold text-blue-400">$10,000</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">P&L</span>
                                <span id="ai3PnL" class="font-bold text-green-400">$0</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">ROI</span>
                                <span id="ai3ROI" class="font-bold text-yellow-400">0%</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Trades</span>
                                <span id="ai3Trades" class="font-bold">0</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Win Rate</span>
                                <span id="ai3WinRate" class="font-bold">0%</span>
                            </div>
                        </div>
                        <p class="text-xs text-gray-500 mt-4">Strat√©gie: Mean Reversion</p>
                    </div>

                    <div id="ai4Card" class="glass-effect rounded-xl p-6 border-2 border-yellow-500">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-xl font-bold">ü§ñ Delta Bot</h3>
                            <span class="text-2xl">4Ô∏è‚É£</span>
                        </div>
                        <div class="space-y-2">
                            <div class="flex justify-between">
                                <span class="text-gray-400">Capital</span>
                                <span id="ai4Capital" class="font-bold text-blue-400">$10,000</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">P&L</span>
                                <span id="ai4PnL" class="font-bold text-green-400">$0</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">ROI</span>
                                <span id="ai4ROI" class="font-bold text-yellow-400">0%</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Trades</span>
                                <span id="ai4Trades" class="font-bold">0</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Win Rate</span>
                                <span id="ai4WinRate" class="font-bold">0%</span>
                            </div>
                        </div>
                        <p class="text-xs text-gray-500 mt-4">Strat√©gie: Grid Trading</p>
                    </div>
                </div>

                <!-- Competition Chart -->
                <div class="glass-effect rounded-xl p-6 mb-6">
                    <h3 class="text-xl font-bold mb-4">üìä Performance en Temps R√©el</h3>
                    <div class="chart-container" style="height: 400px;">
                        <canvas id="aiCompetitionChart"></canvas>
                    </div>
                </div>

                <!-- Live Activity Feed -->
                <div class="glass-effect rounded-xl p-6">
                    <h3 class="text-xl font-bold mb-4">‚ö° Activit√© en Direct</h3>
                    <div id="aiActivityFeed" class="space-y-2 max-h-96 overflow-y-auto scrollbar-hide">
                        <p class="text-gray-400 text-center py-8">En attente du d√©marrage de la comp√©tition...</p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="glass-effect mt-16 py-8">
        <div class="container mx-auto px-4 text-center">
            <div class="text-4xl mb-4">üê±</div>
            <p class="text-gray-400 mb-2">JERCAT Trading Platform - Ultimate Edition</p>
            <p class="text-sm text-gray-500">Powered by Web3 Technology | BSC Network</p>
            <div class="mt-4 flex items-center justify-center space-x-4 text-sm text-gray-500">
                <a href="#" class="hover:text-yellow-400">Documentation</a>
                <span>‚Ä¢</span>
                <a href="#" class="hover:text-yellow-400">Support</a>
                <span>‚Ä¢</span>
                <a href="#" class="hover:text-yellow-400">Community</a>
            </div>
        </div>
    </footer>

    <script>
        // ==========================================
        // GLOBAL VARIABLES
        // ==========================================
        let web3;
        let userAccount;
        let jercatBalance = 0;
        let userTier = 'none';
        let isRealMode = false;
        let dcaInterval;
        let dcaActive = false;
        let dcaChart;
        let aiCompetitionInterval;
        let aiCompetitionActive = false;
        let aiCompetitionChart;

        // JERCAT Token Contract (BSC)
        const JERCAT_TOKEN_ADDRESS = '0x...'; // Remplacer par l'adresse r√©elle
        const JERCAT_ABI = [
            {
                "constant": true,
                "inputs": [{"name": "_owner", "type": "address"}],
                "name": "balanceOf",
                "outputs": [{"name": "balance", "type": "uint256"}],
                "type": "function"
            }
        ];

        const TIER_REQUIREMENTS = {
            bronze: 100,
            silver: 500,
            gold: 1000,
            diamond: 5000
        };

        // Simulated data
        let dcaData = {
            totalInvested: 0,
            currentValue: 0,
            trades: [],
            chartData: {
                labels: [],
                values: []
            }
        };

        let aiCompetitionData = {
            bots: [
                { name: 'Alpha Bot', capital: 10000, pnl: 0, trades: 0, wins: 0, strategy: 'scalping' },
                { name: 'Beta Bot', capital: 10000, pnl: 0, trades: 0, wins: 0, strategy: 'swing' },
                { name: 'Gamma Bot', capital: 10000, pnl: 0, trades: 0, wins: 0, strategy: 'mean_reversion' },
                { name: 'Delta Bot', capital: 10000, pnl: 0, trades: 0, wins: 0, strategy: 'grid' }
            ],
            activities: []
        };

        // ==========================================
        // WALLET CONNECTION
        // ==========================================
        async function connectWallet() {
            if (typeof window.ethereum !== 'undefined') {
                try {
                    showNotification('Connexion √† MetaMask...', 'info');
                    
                    const accounts = await window.ethereum.request({ 
                        method: 'eth_requestAccounts' 
                    });
                    
                    userAccount = accounts[0];
                    web3 = new Web3(window.ethereum);

                    // Check network (BSC)
                    const chainId = await web3.eth.getChainId();
                    if (chainId !== 56n && chainId !== 97n) { // BSC Mainnet or Testnet
                        showNotification('‚ö†Ô∏è Veuillez vous connecter au r√©seau BSC', 'error');
                        await switchToBSC();
                        return;
                    }

                    // Load JERCAT balance
                    await loadJercatBalance();
                    
                    // Update UI
                    updateWalletUI();
                    
                    showNotification('‚úÖ Wallet connect√© avec succ√®s!', 'success');

                } catch (error) {
                    console.error('Erreur de connexion:', error);
                    showNotification('‚ùå Erreur de connexion: ' + error.message, 'error');
                }
            } else {
                showNotification('‚ùå MetaMask n\'est pas install√©', 'error');
                window.open('https://metamask.io/download/', '_blank');
            }
        }

        async function switchToBSC() {
            try {
                await window.ethereum.request({
                    method: 'wallet_switchEthereumChain',
                    params: [{ chainId: '0x38' }], // BSC Mainnet
                });
            } catch (error) {
                if (error.code === 4902) {
                    try {
                        await window.ethereum.request({
                            method: 'wallet_addEthereumChain',
                            params: [{
                                chainId: '0x38',
                                chainName: 'Binance Smart Chain',
                                nativeCurrency: {
                                    name: 'BNB',
                                    symbol: 'BNB',
                                    decimals: 18
                                },
                                rpcUrls: ['https://bsc-dataseed.binance.org/'],
                                blockExplorerUrls: ['https://bscscan.com/']
                            }]
                        });
                    } catch (addError) {
                        console.error('Erreur ajout BSC:', addError);
                    }
                }
            }
        }

        async function loadJercatBalance() {
            try {
                // Simulation pour d√©mo - √† remplacer par vraie logique
                jercatBalance = Math.floor(Math.random() * 10000);
                
                // D√©terminer le tier
                if (jercatBalance >= TIER_REQUIREMENTS.diamond) {
                    userTier = 'diamond';
                } else if (jercatBalance >= TIER_REQUIREMENTS.gold) {
                    userTier = 'gold';
                } else if (jercatBalance >= TIER_REQUIREMENTS.silver) {
                    userTier = 'silver';
                } else if (jercatBalance >= TIER_REQUIREMENTS.bronze) {
                    userTier = 'bronze';
                } else {
                    userTier = 'none';
                }
                
                console.log('JERCAT Balance:', jercatBalance, 'Tier:', userTier);
            } catch (error) {
                console.error('Erreur chargement balance:', error);
                jercatBalance = 0;
                userTier = 'none';
            }
        }

        function updateWalletUI() {
            document.getElementById('notConnected').classList.add('hidden');
            document.getElementById('walletConnected').classList.remove('hidden');
            
            document.getElementById('userAddress').textContent = 
                userAccount.substring(0, 6) + '...' + userAccount.substring(38);
            
            document.getElementById('jercatBalance').textContent = 
                jercatBalance.toLocaleString();
            
            updateTierDisplay();
            
            document.getElementById('walletBtn').innerHTML = 
                '‚úÖ ' + userAccount.substring(0, 6) + '...';
        }

        function updateTierDisplay() {
            const tierBadge = document.getElementById('tierBadge');
            const userTierDisplay = document.getElementById('userTierDisplay');
            
            tierBadge.classList.remove('hidden');
            
            switch(userTier) {
                case 'diamond':
                    tierBadge.className = 'tier-badge tier-diamond';
                    tierBadge.textContent = 'üíé Diamond';
                    userTierDisplay.innerHTML = 'üíé Diamond';
                    break;
                case 'gold':
                    tierBadge.className = 'tier-badge tier-gold';
                    tierBadge.textContent = 'ü•á Gold';
                    userTierDisplay.innerHTML = 'ü•á Gold';
                    break;
                case 'silver':
                    tierBadge.className = 'tier-badge tier-silver';
                    tierBadge.textContent = 'ü•à Silver';
                    userTierDisplay.innerHTML = 'ü•à Silver';
                    break;
                case 'bronze':
                    tierBadge.className = 'tier-badge tier-bronze';
                    tierBadge.textContent = 'ü•â Bronze';
                    userTierDisplay.innerHTML = 'ü•â Bronze';
                    break;
                default:
                    tierBadge.className = 'tier-badge bg-gray-600';
                    tierBadge.textContent = 'üîí No Tier';
                    userTierDisplay.innerHTML = 'üîí No Tier';
            }
        }

        // ==========================================
        // NAVIGATION
        // ==========================================
        function showSection(section) {
            // Hide all sections
            document.getElementById('homeSection').classList.add('hidden');
            document.getElementById('dcaSection').classList.add('hidden');
            document.getElementById('dexSection').classList.add('hidden');
            document.getElementById('competitionSection').classList.add('hidden');
            
            // Remove active class from all buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected section
            switch(section) {
                case 'home':
                    document.getElementById('homeSection').classList.remove('hidden');
                    event.target.classList.add('active');
                    break;
                case 'dca':
                    if (!checkTierAccess('bronze')) return;
                    document.getElementById('dcaSection').classList.remove('hidden');
                    event.target.classList.add('active');
                    initDCAChart();
                    break;
                case 'dex':
                    if (!checkTierAccess('silver')) return;
                    document.getElementById('dexSection').classList.remove('hidden');
                    event.target.classList.add('active');
                    loadDEXData();
                    break;
                case 'competition':
                    if (!checkTierAccess('gold')) return;
                    document.getElementById('competitionSection').classList.remove('hidden');
                    event.target.classList.add('active');
                    initAICompetitionChart();
                    break;
            }
        }

        function checkTierAccess(requiredTier) {
            if (!userAccount) {
                showNotification('‚ö†Ô∏è Veuillez connecter votre wallet', 'error');
                return false;
            }
            
            const tierLevels = { none: 0, bronze: 1, silver: 2, gold: 3, diamond: 4 };
            const userLevel = tierLevels[userTier] || 0;
            const requiredLevel = tierLevels[requiredTier];
            
            if (userLevel < requiredLevel) {
                showNotification(`‚ö†Ô∏è Tier ${requiredTier.toUpperCase()} requis`, 'error');
                return false;
            }
            
            return true;
        }

        // ==========================================
        // DCA BOT FUNCTIONS
        // ==========================================
        function toggleMode() {
            const modeSwitch = document.getElementById('modeSwitch');
            const modeSwitchDot = document.getElementById('modeSwitchDot');
            const modeLabel = document.getElementById('modeLabel');
            
            isRealMode = modeSwitch.checked;
            
            if (isRealMode) {
                if (userTier === 'bronze' || userTier === 'none') {
                    showNotification('‚ö†Ô∏è Mode r√©el disponible √† partir du tier Silver', 'error');
                    modeSwitch.checked = false;
                    return;
                }
                modeSwitchDot.style.transform = 'translateX(32px)';
                modeSwitchDot.style.background = '#FFD700';
                modeLabel.textContent = 'Real';
                modeLabel.classList.add('text-green-400');
                modeLabel.classList.remove('text-yellow-400');
                showNotification('üî¥ Mode R√âEL activ√© - Transactions r√©elles!', 'info');
            } else {
                modeSwitchDot.style.transform = 'translateX(0)';
                modeSwitchDot.style.background = 'white';
                modeLabel.textContent = 'Paper';
                modeLabel.classList.add('text-yellow-400');
                modeLabel.classList.remove('text-green-400');
            }
        }

        function initDCAChart() {
            const ctx = document.getElementById('dcaChart');
            if (!ctx) return;
            
            if (dcaChart) {
                dcaChart.destroy();
            }
            
            dcaChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'Valeur du Portfolio',
                        data: [],
                        borderColor: '#FFD700',
                        backgroundColor: 'rgba(255, 215, 0, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: '#fff' }
                        }
                    },
                    scales: {
                        x: {
                            ticks: { color: '#fff' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' }
                        },
                        y: {
                            ticks: { color: '#fff' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' }
                        }
                    }
                }
            });
        }

        async function startDCA() {
            if (!userAccount) {
                showNotification('‚ö†Ô∏è Connectez votre wallet d\'abord', 'error');
                return;
            }
            
            const token = document.getElementById('dcaToken').value;
            const amount = parseFloat(document.getElementById('dcaAmount').value);
            const interval = parseInt(document.getElementById('dcaInterval').value);
            const orders = parseInt(document.getElementById('dcaOrders').value);
            
            dcaActive = true;
            
            document.getElementById('dcaStartBtn').classList.add('hidden');
            document.getElementById('dcaStopBtn').classList.remove('hidden');
            document.getElementById('dcaStatus').textContent = 'Actif';
            document.getElementById('dcaStatus').classList.remove('bg-gray-700', 'text-gray-300');
            document.getElementById('dcaStatus').classList.add('bg-green-600', 'text-white');
            
            showNotification(`üöÄ Bot DCA d√©marr√© - ${token} - ${amount}$ toutes les ${interval}h`, 'success');
            
            // Simulate DCA execution
            dcaInterval = setInterval(() => {
                if (dcaActive) {
                    executeDCAOrder(token, amount);
                }
            }, 5000); // Every 5 seconds for demo (in real: interval * 3600000)
        }

        function stopDCA() {
            dcaActive = false;
            clearInterval(dcaInterval);
            
            document.getElementById('dcaStartBtn').classList.remove('hidden');
            document.getElementById('dcaStopBtn').classList.add('hidden');
            document.getElementById('dcaStatus').textContent = 'Inactif';
            document.getElementById('dcaStatus').classList.add('bg-gray-700', 'text-gray-300');
            document.getElementById('dcaStatus').classList.remove('bg-green-600', 'text-white');
            
            showNotification('‚èπÔ∏è Bot DCA arr√™t√©', 'info');
        }

        function executeDCAOrder(token, amount) {
            const price = 2000 + Math.random() * 500; // Simulated price
            const quantity = amount / price;
            
            dcaData.totalInvested += amount;
            dcaData.currentValue = dcaData.totalInvested * (1 + (Math.random() * 0.1 - 0.02));
            
            const trade = {
                time: new Date().toLocaleTimeString(),
                token: token,
                amount: amount,
                price: price,
                quantity: quantity
            };
            
            dcaData.trades.unshift(trade);
            
            // Update chart
            dcaData.chartData.labels.push(trade.time);
            dcaData.chartData.values.push(dcaData.currentValue);
            
            if (dcaChart) {
                dcaChart.data.labels = dcaData.chartData.labels.slice(-20);
                dcaChart.data.datasets[0].data = dcaData.chartData.values.slice(-20);
                dcaChart.update();
            }
            
            // Update stats
            updateDCAStats();
            
            // Update trade history
            updateDCATradeHistory();
        }

        function updateDCAStats() {
            document.getElementById('dcaTotalInvested').textContent = 
                '$' + dcaData.totalInvested.toFixed(2);
            
            document.getElementById('dcaCurrentValue').textContent = 
                '$' + dcaData.currentValue.toFixed(2);
            
            const pnl = dcaData.currentValue - dcaData.totalInvested;
            document.getElementById('dcaPnL').textContent = 
                (pnl >= 0 ? '+' : '') + '$' + pnl.toFixed(2);
            document.getElementById('dcaPnL').className = 
                'text-2xl font-bold ' + (pnl >= 0 ? 'text-green-400' : 'text-red-400');
            
            const roi = dcaData.totalInvested > 0 
                ? ((dcaData.currentValue - dcaData.totalInvested) / dcaData.totalInvested * 100) 
                : 0;
            document.getElementById('dcaROI').textContent = 
                (roi >= 0 ? '+' : '') + roi.toFixed(2) + '%';
        }

        function updateDCATradeHistory() {
            const historyDiv = document.getElementById('dcaTradeHistory');
            historyDiv.innerHTML = '';
            
            dcaData.trades.slice(0, 10).forEach(trade => {
                const tradeDiv = document.createElement('div');
                tradeDiv.className = 'trade-entry glass-effect rounded-lg p-4';
                tradeDiv.innerHTML = `
                    <div class="flex justify-between items-center">
                        <div>
                            <span class="font-bold text-yellow-400">${trade.token}</span>
                            <span class="text-gray-400 text-sm ml-2">${trade.time}</span>
                        </div>
                        <div class="text-right">
                            <div class="font-bold text-green-400">BUY $${trade.amount.toFixed(2)}</div>
                            <div class="text-sm text-gray-400">${trade.quantity.toFixed(6)} @ $${trade.price.toFixed(2)}</div>
                        </div>
                    </div>
                `;
                historyDiv.appendChild(tradeDiv);
            });
        }

        // ==========================================
        // DEX FUNCTIONS
        // ==========================================
        function loadDEXData() {
            // Load recent transactions
            const recentTxs = document.getElementById('recentTxs');
            recentTxs.innerHTML = `
                <div class="text-xs space-y-2">
                    <div class="flex justify-between">
                        <span class="text-green-400">SWAP</span>
                        <span>1.5 BNB ‚Üí 3,245 JERCAT</span>
                        <span class="text-gray-500">2m ago</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-blue-400">BUY</span>
                        <span>500 BUSD ‚Üí 20,408 JERCAT</span>
                        <span class="text-gray-500">5m ago</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-red-400">SELL</span>
                        <span>10,000 JERCAT ‚Üí 245 BUSD</span>
                        <span class="text-gray-500">8m ago</span>
                    </div>
                </div>
            `;
            
            // Update swap price
            updateSwapPrice();
        }

        function swapTokens() {
            const tokenFrom = document.getElementById('tokenFrom').value;
            const tokenTo = document.getElementById('tokenTo').value;
            
            document.getElementById('tokenFrom').value = tokenTo;
            document.getElementById('tokenTo').value = tokenFrom;
            
            updateSwapPrice();
        }

        function updateSwapPrice() {
            const amountFrom = parseFloat(document.getElementById('amountFrom').value) || 0;
            const tokenFrom = document.getElementById('tokenFrom').value;
            const tokenTo = document.getElementById('tokenTo').value;
            
            // Simulated price calculation
            let rate = 1;
            if (tokenFrom === 'BNB' && tokenTo === 'JERCAT') {
                rate = 2163; // 1 BNB = 2163 JERCAT
            } else if (tokenFrom === 'JERCAT' && tokenTo === 'BNB') {
                rate = 0.000462;
            } else if (tokenFrom === 'BUSD' && tokenTo === 'JERCAT') {
                rate = 40.82;
            } else if (tokenFrom === 'JERCAT' && tokenTo === 'BUSD') {
                rate = 0.0245;
            }
            
            const amountTo = amountFrom * rate;
            document.getElementById('amountTo').value = amountTo.toFixed(6);
            document.getElementById('swapPrice').textContent = 
                `1 ${tokenFrom} = ${rate.toFixed(6)} ${tokenTo}`;
        }

        async function executeSwap() {
            if (!userAccount) {
                showNotification('‚ö†Ô∏è Connectez votre wallet', 'error');
                return;
            }
            
            const tokenFrom = document.getElementById('tokenFrom').value;
            const tokenTo = document.getElementById('tokenTo').value;
            const amountFrom = document.getElementById('amountFrom').value;
            const amountTo = document.getElementById('amountTo').value;
            
            if (!amountFrom || amountFrom <= 0) {
                showNotification('‚ö†Ô∏è Montant invalide', 'error');
                return;
            }
            
            showNotification('üîÑ √âchange en cours...', 'info');
            
            // Simulate swap (in real app, call DEX contract)
            setTimeout(() => {
                showNotification(`‚úÖ Swap r√©ussi! ${amountFrom} ${tokenFrom} ‚Üí ${parseFloat(amountTo).toFixed(4)} ${tokenTo}`, 'success');
                loadDEXData();
            }, 2000);
        }

        // Listen for amount changes
        document.addEventListener('DOMContentLoaded', () => {
            const amountFrom = document.getElementById('amountFrom');
            if (amountFrom) {
                amountFrom.addEventListener('input', updateSwapPrice);
            }
        });

        // ==========================================
        // AI COMPETITION FUNCTIONS
        // ==========================================
        function initAICompetitionChart() {
            const ctx = document.getElementById('aiCompetitionChart');
            if (!ctx) return;
            
            if (aiCompetitionChart) {
                aiCompetitionChart.destroy();
            }
            
            aiCompetitionChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [
                        {
                            label: 'Alpha Bot',
                            data: [],
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            tension: 0.4
                        },
                        {
                            label: 'Beta Bot',
                            data: [],
                            borderColor: '#10b981',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            tension: 0.4
                        },
                        {
                            label: 'Gamma Bot',
                            data: [],
                            borderColor: '#a855f7',
                            backgroundColor: 'rgba(168, 85, 247, 0.1)',
                            tension: 0.4
                        },
                        {
                            label: 'Delta Bot',
                            data: [],
                            borderColor: '#eab308',
                            backgroundColor: 'rgba(234, 179, 8, 0.1)',
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: '#fff' }
                        }
                    },
                    scales: {
                        x: {
                            ticks: { color: '#fff' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' }
                        },
                        y: {
                            ticks: { 
                                color: '#fff',
                                callback: value => '$' + value.toLocaleString()
                            },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' }
                        }
                    }
                }
            });
        }

        function startAICompetition() {
            if (!userAccount) {
                showNotification('‚ö†Ô∏è Connectez votre wallet', 'error');
                return;
            }
            
            const capital = parseFloat(document.getElementById('aiCapital').value);
            const duration = parseInt(document.getElementById('aiDuration').value);
            
            // Reset data
            aiCompetitionData.bots.forEach(bot => {
                bot.capital = capital;
                bot.pnl = 0;
                bot.trades = 0;
                bot.wins = 0;
            });
            aiCompetitionData.activities = [];
            
            aiCompetitionActive = true;
            
            document.getElementById('aiStartBtn').classList.add('hidden');
            document.getElementById('aiStopBtn').classList.remove('hidden');
            
            showNotification(`üöÄ Comp√©tition IA lanc√©e! Capital: $${capital} - Dur√©e: ${duration}h`, 'success');
            
            // Update every 3 seconds
            aiCompetitionInterval = setInterval(() => {
                if (aiCompetitionActive) {
                    updateAICompetition();
                }
            }, 3000);
        }

        function stopAICompetition() {
            aiCompetitionActive = false;
            clearInterval(aiCompetitionInterval);
            
            document.getElementById('aiStartBtn').classList.remove('hidden');
            document.getElementById('aiStopBtn').classList.add('hidden');
            
            // Determine winner
            const winner = aiCompetitionData.bots.reduce((prev, current) => 
                (current.capital > prev.capital) ? current : prev
            );
            
            showNotification(`üèÜ Gagnant: ${winner.name} avec $${winner.capital.toFixed(2)}!`, 'success');
        }

        function updateAICompetition() {
            const time = new Date().toLocaleTimeString();
            
            // Update each bot
            aiCompetitionData.bots.forEach((bot, index) => {
                // Simulate trade
                const shouldTrade = Math.random() > 0.7;
                if (shouldTrade) {
                    const tradeAmount = bot.capital * (0.01 + Math.random() * 0.04); // 1-5% of capital
                    const isWin = Math.random() > 0.4; // 60% win rate
                    const profitPercent = isWin 
                        ? (0.5 + Math.random() * 2) // 0.5-2.5% profit
                        : -(0.5 + Math.random() * 1.5); // 0.5-2% loss
                    
                    const profit = tradeAmount * (profitPercent / 100);
                    bot.capital += profit;
                    bot.pnl += profit;
                    bot.trades++;
                    if (isWin) bot.wins++;
                    
                    // Add activity
                    aiCompetitionData.activities.unshift({
                        time: time,
                        bot: bot.name,
                        action: isWin ? 'WIN' : 'LOSS',
                        profit: profit
                    });
                }
            });
            
            // Sort bots by capital
            aiCompetitionData.bots.sort((a, b) => b.capital - a.capital);
            
            // Update UI
            updateAICompetitionUI();
            updateAIChart(time);
        }

        function updateAICompetitionUI() {
            aiCompetitionData.bots.forEach((bot, index) => {
                const i = index + 1;
                const roi = ((bot.capital - 10000) / 10000 * 100);
                const winRate = bot.trades > 0 ? (bot.wins / bot.trades * 100) : 0;
                
                document.getElementById(`ai${i}Capital`).textContent = '$' + bot.capital.toFixed(2);
                document.getElementById(`ai${i}PnL`).textContent = 
                    (bot.pnl >= 0 ? '+$' : '-$') + Math.abs(bot.pnl).toFixed(2);
                document.getElementById(`ai${i}PnL`).className = 
                    'font-bold ' + (bot.pnl >= 0 ? 'text-green-400' : 'text-red-400');
                document.getElementById(`ai${i}ROI`).textContent = 
                    (roi >= 0 ? '+' : '') + roi.toFixed(2) + '%';
                document.getElementById(`ai${i}Trades`).textContent = bot.trades;
                document.getElementById(`ai${i}WinRate`).textContent = winRate.toFixed(1) + '%';
            });
            
            // Update activity feed
            const feedDiv = document.getElementById('aiActivityFeed');
            feedDiv.innerHTML = '';
            
            aiCompetitionData.activities.slice(0, 15).forEach(activity => {
                const activityDiv = document.createElement('div');
                activityDiv.className = 'glass-effect rounded-lg p-3';
                activityDiv.innerHTML = `
                    <div class="flex justify-between items-center text-sm">
                        <div>
                            <span class="font-bold">${activity.bot}</span>
                            <span class="text-gray-400 ml-2">${activity.time}</span>
                        </div>
                        <div class="text-right">
                            <span class="${activity.action === 'WIN' ? 'text-green-400' : 'text-red-400'} font-bold">
                                ${activity.action}
                            </span>
                            <span class="ml-2 ${activity.profit >= 0 ? 'text-green-400' : 'text-red-400'}">
                                ${activity.profit >= 0 ? '+' : ''}$${activity.profit.toFixed(2)}
                            </span>
                        </div>
                    </div>
                `;
                feedDiv.appendChild(activityDiv);
            });
        }

        function updateAIChart(time) {
            if (!aiCompetitionChart) return;
            
            aiCompetitionChart.data.labels.push(time);
            
            aiCompetitionData.bots.forEach((bot, index) => {
                aiCompetitionChart.data.datasets[index].data.push(bot.capital);
            });
            
            // Keep only last 20 points
            if (aiCompetitionChart.data.labels.length > 20) {
                aiCompetitionChart.data.labels.shift();
                aiCompetitionChart.data.datasets.forEach(dataset => {
                    dataset.data.shift();
                });
            }
            
            aiCompetitionChart.update();
        }

        // ==========================================
        // UTILITY FUNCTIONS
        // ==========================================
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // ==========================================
        // EVENT LISTENERS
        // ==========================================
        window.ethereum?.on('accountsChanged', accounts => {
            if (accounts.length === 0) {
                location.reload();
            } else {
                userAccount = accounts[0];
                loadJercatBalance().then(() => updateWalletUI());
            }
        });

        window.ethereum?.on('chainChanged', () => {
            location.reload();
        });

        // Auto-connect if previously connected
        window.addEventListener('load', async () => {
            if (typeof window.ethereum !== 'undefined') {
                const accounts = await window.ethereum.request({ 
                    method: 'eth_accounts' 
                });
                if (accounts.length > 0) {
                    connectWallet();
                }
            }
        });

        console.log('üê± JERCAT Platform Ultimate Edition charg√©e!');
        console.log('üìä Tous les bots sont op√©rationnels');
        console.log('üöÄ Ready to trade!');
    </script>

</body>
</html>
