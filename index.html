<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JERCAT Trading Platform - Multi-Bot AI Competition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.8.0/dist/web3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #000000;
            color: #fff;
            min-height: 100vh;
        }

        .glass-effect {
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .animate-spin {
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .loading-spinner {
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top: 3px solid #FFD700;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        .hidden { display: none !important; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        /* Styles pour le bot comp√©tition IA */
        .ai-card {
            background: white;
            border: 2px solid #e5e7eb;
            transition: all 0.3s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            color: #1f2937;
        }
        .ai-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .ai-card.active {
            border: 3px solid #10b981;
            box-shadow: 0 0 25px rgba(16, 185, 129, 0.3);
        }
        .trade-log {
            max-height: 400px;
            overflow-y: auto;
        }
        .trade-log::-webkit-scrollbar {
            width: 8px;
        }
        .trade-log::-webkit-scrollbar-track {
            background: #f3f4f6;
            border-radius: 10px;
        }
        .trade-log::-webkit-scrollbar-thumb {
            background: #10b981;
            border-radius: 10px;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .pulse {
            animation: pulse 2s ease-in-out infinite;
        }
        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        .slide-in {
            animation: slideIn 0.5s ease-out;
        }
        .gradient-border {
            position: relative;
            background: white;
            border: 2px solid #e5e7eb;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            color: #1f2937;
        }
        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
        }
        .status-online { background: #10b981; box-shadow: 0 0 10px #10b981; }
        .status-offline { background: #ef4444; }
        .status-trading { background: #f59e0b; animation: pulse 1s infinite; }

        /* Tiers */
        .tier-bronze { background: #CD7F32; color: white; }
        .tier-silver { background: #C0C0C0; color: black; }
        .tier-gold { background: #FFD700; color: black; }
        .tier-diamond { background: linear-gradient(45deg, #00D4FF, #0099CC); color: white; }
        .tier-none { background: rgba(255, 0, 0, 0.3); color: white; }
    </style>
</head>
<body>
    <!-- SECTION 1: PAGE D'ACCUEIL JERCAT -->
    <div id="jercatHomePage" class="min-h-screen gradient-bg p-4 md:p-6">
        <div class="max-w-6xl mx-auto">
            <!-- Header -->
            <div class="text-center mb-12 pt-8">
                <h1 class="text-5xl md:text-6xl font-bold mb-4">
                    <span class="bg-gradient-to-r from-yellow-400 to-orange-500 bg-clip-text text-transparent">
                        üê± JERCAT BOT PLATFORM
                    </span>
                </h1>
                <p class="text-xl text-white/90">Bots de trading professionnels r√©serv√©s aux holders</p>
                <p class="text-sm text-white/70 mt-2">Bot Basique ‚Ä¢ Comp√©tition IA ‚Ä¢ Trading R√©el 24/7</p>
            </div>

            <!-- Connexion Card -->
            <div class="glass-effect rounded-2xl p-8 mb-8 max-w-2xl mx-auto">
                <div id="connectSection" class="text-center">
                    <h2 class="text-3xl font-bold mb-6">Connexion</h2>
                    <p class="text-lg mb-8 text-white/80">Connecte ton wallet MetaMask pour v√©rifier ton acc√®s</p>
                    <button id="connectBtn" onclick="connectWallet()" class="px-12 py-4 bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 rounded-full text-black font-bold text-xl transition-all transform hover:scale-105 shadow-2xl">
                        ü¶ä Connecter MetaMask
                    </button>
                </div>

                <!-- Loading -->
                <div id="loading" class="hidden text-center">
                    <div class="loading-spinner mx-auto mb-4"></div>
                    <p class="text-lg">V√©rification en cours...</p>
                </div>

                <!-- Wallet Info -->
                <div id="walletInfo" class="hidden fade-in">
                    <h2 class="text-2xl font-bold mb-6 text-center">Mon Wallet</h2>
                    <div class="bg-black/30 rounded-xl p-4 mb-6">
                        <p class="text-sm text-white/70 mb-1">Adresse</p>
                        <p class="font-mono text-lg" id="walletAddress"></p>
                    </div>

                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div class="bg-black/30 rounded-xl p-4 text-center">
                            <p class="text-sm text-white/70 mb-2">Balance JERCAT</p>
                            <p class="text-3xl font-bold text-yellow-400" id="jercatBalance">0</p>
                        </div>
                        <div class="bg-black/30 rounded-xl p-4 text-center">
                            <p class="text-sm text-white/70 mb-2">Balance BNB</p>
                            <p class="text-3xl font-bold text-green-400" id="bnbBalance">0</p>
                        </div>
                    </div>

                    <div class="text-center">
                        <span id="tierBadge" class="inline-block px-8 py-3 rounded-full font-bold text-lg bg-red-500/30">
                            Tier: NONE
                        </span>
                    </div>
                </div>
            </div>

            <!-- Message -->
            <div id="message" class="hidden max-w-2xl mx-auto mb-8"></div>

            <!-- Acc√®s Refus√© -->
            <div id="accessDenied" class="hidden glass-effect rounded-2xl p-10 max-w-2xl mx-auto text-center border-2 border-red-500">
                <h2 class="text-4xl font-bold text-red-400 mb-6">üö´ Acc√®s Refus√©</h2>
                <p class="text-xl mb-4">Tu dois poss√©der au moins <strong class="text-yellow-400">100 JERCAT</strong> pour utiliser les bots de trading.</p>
                <p class="text-lg mb-8">Balance actuelle: <strong class="text-red-400"><span id="deniedBalance">0</span> JERCAT</strong></p>
                <a href="https://pancakeswap.finance/swap?outputCurrency=0x197CF8951d93325A9333857Ee5330daF7aC4bcCF" 
                   target="_blank" 
                   class="inline-block px-10 py-4 bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 rounded-full text-black font-bold text-xl transition-all transform hover:scale-105">
                    üí∞ Acheter JERCAT sur PancakeSwap
                </a>
                <p class="text-sm text-white/50 mt-6">
                    Contrat: 0x197CF8951d93325A9333857Ee5330daF7aC4bcCF
                </p>
            </div>

            <!-- Bots disponibles -->
            <div id="botsSection" class="hidden max-w-6xl mx-auto">
                <h2 class="text-4xl font-bold text-center mb-8">ü§ñ Bots de Trading Disponibles</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12">
                    <!-- Bot Trading Basique -->
                    <div class="glass-effect rounded-xl p-6 hover:border-yellow-400 border-2 border-transparent transition-all" data-min-balance="100">
                        <div class="text-6xl mb-4 text-center">üìà</div>
                        <h3 class="text-2xl font-bold text-yellow-400 mb-3 text-center">Bot Trading Pro</h3>
                        <p class="text-white/80 mb-4">Trading avec 6 indicateurs techniques (RSI, MACD, EMA, Volume, Bollinger, Stoch RSI)</p>
                        <div class="text-sm text-green-400 mb-4">‚úÖ Minimum: 100 JERCAT</div>
                        <div class="text-xs text-white/60 mb-4">
                            ‚Ä¢ Take Profit: +3.5%<br>
                            ‚Ä¢ Stop Loss: -3.0%<br>
                            ‚Ä¢ Trailing Stop: 0.5%<br>
                            ‚Ä¢ Trading R√©el PancakeSwap<br>
                            ‚Ä¢ Notifications Telegram
                        </div>
                        <button onclick="launchTradingBot('basic')" class="w-full px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 rounded-lg font-bold transition-all">
                            üöÄ Lancer le Bot Pro
                        </button>
                    </div>

                    <!-- Bot Comp√©tition IA -->
                    <div class="glass-effect rounded-xl p-6 hover:border-purple-400 border-2 border-transparent transition-all" data-min-balance="100">
                        <div class="text-6xl mb-4 text-center">ü§ñ</div>
                        <h3 class="text-2xl font-bold text-purple-400 mb-3 text-center">Comp√©tition IA</h3>
                        <p class="text-white/80 mb-4">4 IA en comp√©tition: Claude vs Gemini vs ChatGPT vs Grok. Chaque IA trade de fa√ßon ind√©pendante!</p>
                        <div class="text-sm text-green-400 mb-4">‚úÖ Minimum: 100 JERCAT</div>
                        <div class="text-xs text-white/60 mb-4">
                            ‚Ä¢ Analyse sentiment news/social<br>
                            ‚Ä¢ 4 IA simultan√©es<br>
                            ‚Ä¢ Trading R√©el PancakeSwap<br>
                            ‚Ä¢ Classement en direct<br>
                            ‚Ä¢ Syst√®me anti-veille
                        </div>
                        <button onclick="launchAICompetition()" class="w-full px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 rounded-lg font-bold transition-all">
                            üéØ Lancer la Comp√©tition
                        </button>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="text-center mt-16 pb-8 text-white/50">
                <p>¬© 2024 JERCAT Token - Tous droits r√©serv√©s</p>
                <p class="mt-2">‚ö†Ô∏è Le trading comporte des risques. N'investis que ce que tu peux te permettre de perdre.</p>
            </div>
        </div>
    </div>

    <!-- SECTION 2: BOT TRADING BASIQUE (cach√© par d√©faut) -->
    <div id="basicTradingBot" class="hidden min-h-screen p-4 md:p-6">
        <!-- Contenu du bot basique ici - simplifi√© pour l'exemple -->
        <div class="max-w-7xl mx-auto">
            <div class="mb-4">
                <button onclick="returnToJercatPlatform()" class="flex items-center gap-2 px-4 py-2 glass-effect hover:bg-slate-700 rounded-lg transition-all text-white">
                    <span>‚Üê</span>
                    <span>Retour √† la plateforme JERCAT</span>
                </button>
            </div>
            <h1 class="text-4xl font-bold text-center text-white mb-8">üìà Bot Trading Pro - 6 Indicateurs</h1>
            <div class="glass-effect rounded-xl p-6 text-white">
                <p class="text-center text-xl">Bot Trading Basique avec 6 indicateurs techniques</p>
                <p class="text-center text-gray-400 mt-4">Configuration compl√®te disponible dans la version finale</p>
            </div>
        </div>
    </div>

    <!-- SECTION 3: BOT COMP√âTITION IA (cach√© par d√©faut) -->
    <div id="aiCompetitionBot" class="hidden">
        <!-- Contenu complet du bot comp√©tition IA -->
        <div class="min-h-screen p-4 md:p-6" style="background: linear-gradient(135deg, #ffffff 0%, #f3f4f6 50%, #e5e7eb 100%);">
            <div class="max-w-7xl mx-auto">
                <!-- Bouton retour -->
                <div class="mb-4">
                    <button onclick="returnToJercatPlatform()" class="flex items-center gap-2 px-4 py-2 bg-white hover:bg-gray-100 rounded-lg transition-all text-gray-800 border-2 border-gray-300">
                        <span>‚Üê</span>
                        <span>Retour √† la plateforme JERCAT</span>
                    </button>
                </div>

                <!-- Header -->
                <div class="text-center mb-8">
                    <h1 class="text-4xl md:text-5xl font-bold mb-3" style="background: linear-gradient(135deg, #10b981 0%, #3b82f6 50%, #8b5cf6 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
                        ü§ñ AI Trading Bot Competition
                    </h1>
                    <p class="text-gray-600 text-lg">Claude vs Gemini vs ChatGPT vs Grok ‚Ä¢ Trading R√©el 24/7 via PancakeSwap</p>
                    <div class="mt-3 flex justify-center gap-4 items-center">
                        <span class="px-4 py-2 bg-green-100 text-green-800 rounded-full font-semibold text-sm">ü•û PancakeSwap</span>
                        <span class="px-4 py-2 bg-blue-100 text-blue-800 rounded-full font-semibold text-sm">üîó BSC Network</span>
                    </div>
                </div>

                <!-- Configuration -->
                <div class="gradient-border rounded-xl p-6 mb-6">
                    <h2 class="text-2xl font-bold mb-4 flex items-center gap-2 text-gray-800">
                        <span>üîê</span>
                        Configuration Bot IA
                    </h2>

                    <!-- Info Wallet JERCAT -->
                    <div class="bg-purple-50 border-2 border-purple-300 rounded-lg p-4 mb-4">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-purple-800 font-bold">üëõ Wallet JERCAT Connect√©</p>
                                <p class="text-sm text-purple-600" id="aiWalletDisplay">-</p>
                            </div>
                            <div class="text-right">
                                <p class="text-xs text-purple-600">Balance JERCAT</p>
                                <p class="text-2xl font-bold text-purple-800" id="aiJercatBalance">0</p>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-sm text-gray-700 mb-2 font-semibold">Mode de connexion</label>
                            <select id="aiConnectionMode" onchange="switchAIConnectionMode()" class="w-full bg-white border-2 border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:border-green-500">
                                <option value="metamask">ü¶ä MetaMask (Manuel)</option>
                                <option value="privatekey">‚ö° Cl√© Priv√©e (Auto 24/7)</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm text-gray-700 mb-2 font-semibold">Statut</label>
                            <div class="bg-white border-2 border-gray-300 rounded-lg px-4 py-3">
                                <span id="aiConnectionStatus" class="flex items-center">
                                    <span class="status-dot status-online"></span>
                                    Connect√© via JERCAT
                                </span>
                            </div>
                        </div>
                    </div>

                    <div id="aiPrivatekeySection" style="display: none;">
                        <div class="bg-red-50 border-2 border-red-400 rounded-lg p-4 mb-4">
                            <p class="text-red-700 font-bold mb-2">‚ö†Ô∏è MODE AUTOMATIQUE 24/7</p>
                            <ul class="text-sm text-red-600 space-y-1">
                                <li>‚Ä¢ Utilisez un wallet D√âDI√â avec petit capital</li>
                                <li>‚Ä¢ La cl√© est stock√©e en m√©moire uniquement</li>
                                <li>‚Ä¢ Effac√©e automatiquement √† la fermeture</li>
                                <li>‚Ä¢ Le bot traderra sans votre confirmation</li>
                            </ul>
                        </div>
                        
                        <div class="mb-3">
                            <label class="block text-sm text-gray-700 mb-2 font-semibold">Cl√© Priv√©e (0x...)</label>
                            <input type="password" id="aiPrivateKeyInput" placeholder="0x..." class="w-full bg-white border-2 border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:border-red-500 font-mono">
                        </div>
                        
                        <div class="flex gap-3">
                            <button onclick="connectAIWithPrivateKey()" class="flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 text-white rounded-lg font-bold transition-all shadow-lg">
                                ‚ö° Activer Mode Auto
                            </button>
                            <button onclick="toggleAIPrivateKeyVisibility()" class="px-4 py-3 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded-lg transition-all">
                                üëÅÔ∏è
                            </button>
                        </div>
                    </div>

                    <div id="aiWalletInfo" class="grid grid-cols-2 md:grid-cols-4 gap-3 mt-4">
                        <div class="bg-gray-50 border-2 border-gray-200 rounded-lg p-3">
                            <p class="text-xs text-gray-600 font-semibold">Adresse</p>
                            <p class="font-mono text-sm text-gray-800" id="aiWalletAddress">-</p>
                        </div>
                        <div class="bg-yellow-50 border-2 border-yellow-200 rounded-lg p-3">
                            <p class="text-xs text-gray-600 font-semibold">BNB</p>
                            <p class="font-bold text-yellow-600" id="aiBnbBalance">0</p>
                        </div>
                        <div class="bg-green-50 border-2 border-green-200 rounded-lg p-3">
                            <p class="text-xs text-gray-600 font-semibold">USDT</p>
                            <p class="font-bold text-green-600" id="aiUsdtBalance">0</p>
                        </div>
                        <div class="bg-blue-50 border-2 border-blue-200 rounded-lg p-3">
                            <p class="text-xs text-gray-600 font-semibold">R√©seau</p>
                            <p class="font-bold text-blue-600">BSC</p>
                        </div>
                    </div>

                    <div class="mt-4">
                        <label class="block text-sm text-gray-700 mb-2 font-semibold">Capital de trading (USDT)</label>
                        <div class="flex gap-3">
                            <input type="number" id="aiTradingCapital" placeholder="100" value="100" class="flex-1 bg-white border-2 border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:border-green-500">
                            <button onclick="setAICapital()" class="px-6 py-3 bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white rounded-lg font-bold transition-all shadow-lg">
                                Valider
                            </button>
                        </div>
                    </div>

                    <div class="mt-4">
                        <label class="block text-sm text-gray-700 mb-2 font-semibold">Slippage tol√©rance (%)</label>
                        <div class="flex gap-3">
                            <input type="number" id="aiSlippageInput" value="2" min="0.5" max="10" step="0.5" class="flex-1 bg-white border-2 border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:border-yellow-500">
                            <button onclick="updateAISlippage()" class="px-6 py-3 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white rounded-lg font-bold transition-all shadow-lg">
                                Appliquer
                            </button>
                        </div>
                        <p class="text-xs text-gray-600 mt-2">‚ö†Ô∏è Recommand√©: 2-5% pour tokens volatils</p>
                    </div>
                </div>

                <!-- S√©lection des IA -->
                <div class="gradient-border rounded-xl p-6 mb-6">
                    <h2 class="text-2xl font-bold mb-4 text-gray-800">ü§ñ S√©lectionner les IA Concurrentes</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <!-- Claude AI -->
                        <div class="ai-card rounded-xl p-5 cursor-pointer" onclick="toggleAISelection('claude')" id="ai-card-claude">
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center gap-2">
                                    <span class="text-3xl">üß†</span>
                                    <h3 class="text-xl font-bold text-gray-800">Claude</h3>
                                </div>
                                <input type="checkbox" id="ai-check-claude" class="w-5 h-5">
                            </div>
                            <p class="text-sm text-gray-600 mb-3">Anthropic ‚Ä¢ Analyse profonde</p>
                            <div class="space-y-2 text-xs">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Trades:</span>
                                    <span id="ai-claude-trades" class="font-bold text-green-600">0</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Profit:</span>
                                    <span id="ai-claude-profit" class="font-bold text-green-600">$0.00</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Win Rate:</span>
                                    <span id="ai-claude-winrate" class="font-bold text-gray-800">0%</span>
                                </div>
                            </div>
                        </div>

                        <!-- Gemini AI -->
                        <div class="ai-card rounded-xl p-5 cursor-pointer" onclick="toggleAISelection('gemini')" id="ai-card-gemini">
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center gap-2">
                                    <span class="text-3xl">üíé</span>
                                    <h3 class="text-xl font-bold text-gray-800">Gemini</h3>
                                </div>
                                <input type="checkbox" id="ai-check-gemini" class="w-5 h-5">
                            </div>
                            <p class="text-sm text-gray-600 mb-3">Google ‚Ä¢ Analyse multimodale</p>
                            <div class="space-y-2 text-xs">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Trades:</span>
                                    <span id="ai-gemini-trades" class="font-bold text-blue-600">0</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Profit:</span>
                                    <span id="ai-gemini-profit" class="font-bold text-blue-600">$0.00</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Win Rate:</span>
                                    <span id="ai-gemini-winrate" class="font-bold text-gray-800">0%</span>
                                </div>
                            </div>
                        </div>

                        <!-- ChatGPT AI -->
                        <div class="ai-card rounded-xl p-5 cursor-pointer" onclick="toggleAISelection('chatgpt')" id="ai-card-chatgpt">
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center gap-2">
                                    <span class="text-3xl">üöÄ</span>
                                    <h3 class="text-xl font-bold text-gray-800">ChatGPT</h3>
                                </div>
                                <input type="checkbox" id="ai-check-chatgpt" class="w-5 h-5">
                            </div>
                            <p class="text-sm text-gray-600 mb-3">OpenAI ‚Ä¢ D√©cisions optimales</p>
                            <div class="space-y-2 text-xs">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Trades:</span>
                                    <span id="ai-chatgpt-trades" class="font-bold text-purple-600">0</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Profit:</span>
                                    <span id="ai-chatgpt-profit" class="font-bold text-purple-600">$0.00</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Win Rate:</span>
                                    <span id="ai-chatgpt-winrate" class="font-bold text-gray-800">0%</span>
                                </div>
                            </div>
                        </div>

                        <!-- Grok AI -->
                        <div class="ai-card rounded-xl p-5 cursor-pointer" onclick="toggleAISelection('grok')" id="ai-card-grok">
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center gap-2">
                                    <span class="text-3xl">‚ö°</span>
                                    <h3 class="text-xl font-bold text-gray-800">Grok</h3>
                                </div>
                                <input type="checkbox" id="ai-check-grok" class="w-5 h-5">
                            </div>
                            <p class="text-sm text-gray-600 mb-3">xAI ‚Ä¢ Trading agressif</p>
                            <div class="space-y-2 text-xs">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Trades:</span>
                                    <span id="ai-grok-trades" class="font-bold text-orange-600">0</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Profit:</span>
                                    <span id="ai-grok-profit" class="font-bold text-orange-600">$0.00</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Win Rate:</span>
                                    <span id="ai-grok-winrate" class="font-bold text-gray-800">0%</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-6 flex flex-wrap gap-4">
                        <button onclick="startAICompetition()" id="aiStartBtn" class="flex-1 min-w-[200px] px-6 py-4 bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white rounded-lg font-bold text-lg transition-all shadow-lg">
                            üöÄ D√©marrer la Comp√©tition
                        </button>
                        <button onclick="stopAICompetition()" id="aiStopBtn" class="flex-1 min-w-[200px] px-6 py-4 bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600 text-white rounded-lg font-bold text-lg transition-all shadow-lg" style="display: none;">
                            ‚è∏Ô∏è Arr√™ter
                        </button>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Graphique Prix R√©el -->
                    <div class="lg:col-span-2 gradient-border rounded-xl p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-2xl font-bold text-gray-800">üìà Prix Temps R√©el</h2>
                            <div class="flex items-center gap-3">
                                <select id="aiCryptoSelect" onchange="changeAICrypto()" class="bg-white border-2 border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500">
                                    <option value="BTCUSDT">BTC/USDT</option>
                                    <option value="ETHUSDT">ETH/USDT</option>
                                    <option value="BNBUSDT">BNB/USDT</option>
                                </select>
                                <div class="text-2xl font-bold text-gray-800" id="aiCurrentPrice">$0</div>
                            </div>
                        </div>
                        <div class="h-80">
                            <canvas id="aiPriceChart"></canvas>
                        </div>
                    </div>

                    <!-- Classement en direct -->
                    <div class="gradient-border rounded-xl p-6">
                        <h2 class="text-2xl font-bold mb-4 text-gray-800">üèÜ Classement</h2>
                        <div id="aiLeaderboard" class="space-y-3">
                            <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                                <p class="text-center text-gray-600">D√©marrez la comp√©tition</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Logs des Trades -->
                <div class="gradient-border rounded-xl p-6 mt-6">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-2xl font-bold text-gray-800">üìä Journal des Trades</h2>
                        <button onclick="clearAILogs()" class="px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded-lg text-sm transition-all">
                            üóëÔ∏è Effacer
                        </button>
                    </div>
                    <div id="aiTradeLogs" class="trade-log space-y-2">
                        <div class="text-center text-gray-500 py-8">
                            Aucun trade pour le moment
                        </div>
                    </div>
                </div>

                <!-- Syst√®me Anti-Veille -->
                <div class="gradient-border rounded-xl p-6 mt-6">
                    <h2 class="text-2xl font-bold mb-4 text-gray-800">‚ö° Syst√®me Anti-Veille</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="bg-green-50 border-2 border-green-200 rounded-lg p-4">
                            <p class="text-sm text-gray-600 mb-2 font-semibold">Wake Lock</p>
                            <p id="aiWakeLockStatus" class="font-bold text-green-600">Actif</p>
                        </div>
                        <div class="bg-blue-50 border-2 border-blue-200 rounded-lg p-4">
                            <p class="text-sm text-gray-600 mb-2 font-semibold">Temps actif</p>
                            <p id="aiUptime" class="font-bold text-blue-600">00:00:00</p>
                        </div>
                        <div class="bg-purple-50 border-2 border-purple-200 rounded-lg p-4">
                            <p class="text-sm text-gray-600 mb-2 font-semibold">Connexion WS</p>
                            <p id="aiWsStatus" class="font-bold text-purple-600">Connect√©</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ========================================
        // CONFIGURATION GLOBALE
        // ========================================
        const JERCAT_CONTRACT = "0x197CF8951d93325A9333857Ee5330daF7aC4bcCF";
        const PANCAKE_ROUTER = '0x10ED43C718714eb63d5aA57B78B54704E256024E';
        const USDT_CONTRACT = '0x55d398326f99059fF775485246999027B3197955';
        const BSC_RPC = 'https://bsc-dataseed1.binance.org';
        const BSC_CHAIN_ID = 56;
        
        const ERC20_ABI = [
            {
                "constant": true,
                "inputs": [{"name": "_owner", "type": "address"}],
                "name": "balanceOf",
                "outputs": [{"name": "balance", "type": "uint256"}],
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "decimals",
                "outputs": [{"name": "", "type": "uint8"}],
                "type": "function"
            }
        ];

        const TOKEN_ADDRESSES = {
            'BTCUSDT': '0x7130d2A12B9BCbFAe4f2634d864A1Ee1Ce3Ead9c',
            'ETHUSDT': '0x2170Ed0880ac9A755fd29B2688956BD959F933F8',
            'BNBUSDT': '0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c'
        };

        // √âtat global JERCAT
        let jercatState = {
            account: null,
            isConnected: false,
            balanceBNB: '0',
            balanceJERCAT: 0,
            balanceUSDT: '0',
            tier: 'none',
            accessGranted: false,
            provider: null
        };

        // √âtat bot IA
        let aiState = {
            connectionMode: 'metamask',
            account: null,
            provider: null,
            privateKeyWallet: null,
            isConnected: false,
            balances: { bnb: 0, usdt: 0 },
            capital: 0,
            slippage: 2.0,
            selectedCrypto: 'BTCUSDT',
            currentPrice: 0,
            priceHistory: [],
            activeAIs: { claude: false, gemini: false, chatgpt: false, grok: false },
            aiStats: {
                claude: { trades: 0, profit: 0, wins: 0, losses: 0 },
                gemini: { trades: 0, profit: 0, wins: 0, losses: 0 },
                chatgpt: { trades: 0, profit: 0, wins: 0, losses: 0 },
                grok: { trades: 0, profit: 0, wins: 0, losses: 0 }
            },
            positions: { claude: null, gemini: null, chatgpt: null, grok: null },
            competitionRunning: false,
            tradeLogs: [],
            wakeLock: null,
            startTime: null
        };

        let aiWs = null;
        let aiPriceChart = null;
        let aiCompetitionInterval = null;
        let aiUptimeInterval = null;

        // ========================================
        // CONNEXION WALLET & V√âRIFICATION JERCAT
        // ========================================
        async function connectWallet() {
            if (typeof window.ethereum === 'undefined') {
                showMessage('‚ùå MetaMask non install√©! Installe-le depuis metamask.io', 'error');
                return;
            }

            try {
                document.getElementById('connectSection').style.display = 'none';
                document.getElementById('loading').classList.remove('hidden');

                const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
                jercatState.account = accounts[0];

                const chainId = await ethereum.request({ method: 'eth_chainId' });
                if (chainId !== '0x38') {
                    await switchToBSC();
                }

                const web3Instance = new Web3(window.ethereum);
                jercatState.provider = new ethers.providers.Web3Provider(window.ethereum);

                await loadBalances(web3Instance);

                document.getElementById('loading').classList.add('hidden');

            } catch (error) {
                console.error('‚ùå Erreur connexion:', error);
                showMessage('Erreur de connexion: ' + error.message, 'error');
                document.getElementById('connectSection').style.display = 'block';
                document.getElementById('loading').classList.add('hidden');
            }
        }

        async function switchToBSC() {
            try {
                await ethereum.request({
                    method: 'wallet_switchEthereumChain',
                    params: [{ chainId: '0x38' }],
                });
            } catch (error) {
                if (error.code === 4902) {
                    await ethereum.request({
                        method: 'wallet_addEthereumChain',
                        params: [{
                            chainId: '0x38',
                            chainName: 'BSC Mainnet',
                            nativeCurrency: { name: 'BNB', symbol: 'BNB', decimals: 18 },
                            rpcUrls: [BSC_RPC],
                            blockExplorerUrls: ['https://bscscan.com']
                        }]
                    });
                }
            }
        }

        async function loadBalances(web3Instance) {
            try {
                const bnbWei = await web3Instance.eth.getBalance(jercatState.account);
                jercatState.balanceBNB = parseFloat(web3Instance.utils.fromWei(bnbWei, 'ether')).toFixed(4);

                const jercatContract = new web3Instance.eth.Contract(ERC20_ABI, JERCAT_CONTRACT);
                const decimals = await jercatContract.methods.decimals().call();
                const balanceWei = await jercatContract.methods.balanceOf(jercatState.account).call();
                jercatState.balanceJERCAT = parseFloat(balanceWei / (10 ** decimals));

                const usdtContract = new web3Instance.eth.Contract(ERC20_ABI, USDT_CONTRACT);
                const usdtBalanceWei = await usdtContract.methods.balanceOf(jercatState.account).call();
                jercatState.balanceUSDT = parseFloat(web3Instance.utils.fromWei(usdtBalanceWei, 'ether')).toFixed(2);

                document.getElementById('walletAddress').textContent = 
                    jercatState.account.substring(0, 6) + '...' + jercatState.account.substring(38);
                document.getElementById('jercatBalance').textContent = jercatState.balanceJERCAT.toFixed(2);
                document.getElementById('bnbBalance').textContent = jercatState.balanceBNB;

                jercatState.tier = getTier(jercatState.balanceJERCAT);
                const tierBadge = document.getElementById('tierBadge');
                tierBadge.textContent = `Tier: ${jercatState.tier.toUpperCase()}`;
                tierBadge.className = `inline-block px-8 py-3 rounded-full font-bold text-lg tier-${jercatState.tier}`;

                jercatState.isConnected = true;
                document.getElementById('walletInfo').classList.remove('hidden');

                checkAccess();

            } catch (error) {
                console.error('‚ùå Erreur chargement balances:', error);
                showMessage('Erreur: ' + error.message, 'error');
            }
        }

        function getTier(balance) {
            if (balance >= 10000) return 'diamond';
            if (balance >= 5000) return 'gold';
            if (balance >= 1000) return 'silver';
            if (balance >= 100) return 'bronze';
            return 'none';
        }

        function checkAccess() {
            if (jercatState.balanceJERCAT >= 100) {
                jercatState.accessGranted = true;
                document.getElementById('botsSection').classList.remove('hidden');
                document.getElementById('accessDenied').classList.add('hidden');
                showMessage('‚úÖ Acc√®s autoris√©! Tu peux utiliser les bots de trading.', 'success');
            } else {
                jercatState.accessGranted = false;
                document.getElementById('accessDenied').classList.remove('hidden');
                document.getElementById('botsSection').classList.add('hidden');
                document.getElementById('deniedBalance').textContent = jercatState.balanceJERCAT.toFixed(2);
            }
        }

        function showMessage(text, type) {
            const messageDiv = document.getElementById('message');
            messageDiv.textContent = text;
            messageDiv.className = `p-4 rounded-xl mb-4 border-2 ${
                type === 'success' ? 'bg-green-500/20 border-green-500 text-green-300' :
                type === 'error' ? 'bg-red-500/20 border-red-500 text-red-300' :
                'bg-blue-500/20 border-blue-500 text-blue-300'
            }`;
            messageDiv.classList.remove('hidden');

            setTimeout(() => {
                messageDiv.classList.add('hidden');
            }, 5000);
        }

        // ========================================
        // LANCEMENT DES BOTS
        // ========================================
        function launchTradingBot(botType) {
            if (!jercatState.accessGranted) {
                alert('‚ùå Acc√®s refus√©. Ach√®te des tokens JERCAT pour continuer.');
                return;
            }

            console.log(`üöÄ Lancement du bot basique: ${botType}`);
            document.getElementById('jercatHomePage').classList.add('hidden');
            document.getElementById('basicTradingBot').classList.remove('hidden');
        }

        function launchAICompetition() {
            if (!jercatState.accessGranted) {
                alert('‚ùå Acc√®s refus√©. Ach√®te des tokens JERCAT pour continuer.');
                return;
            }

            console.log('ü§ñ Lancement de la comp√©tition IA');
            document.getElementById('jercatHomePage').classList.add('hidden');
            document.getElementById('aiCompetitionBot').classList.remove('hidden');
            
            initAICompetition();
        }

        function returnToJercatPlatform() {
            if (aiState.competitionRunning) {
                if (!confirm('‚ö†Ô∏è La comp√©tition est en cours. √ätes-vous s√ªr de vouloir quitter ?')) {
                    return;
                }
                stopAICompetition();
            }
            
            document.getElementById('basicTradingBot').classList.add('hidden');
            document.getElementById('aiCompetitionBot').classList.add('hidden');
            document.getElementById('jercatHomePage').classList.remove('hidden');
        }

        // ========================================
        // INITIALISATION BOT IA
        // ========================================
        function initAICompetition() {
            console.log('ü§ñ Initialisation du bot IA...');
            
            // Copier les infos du wallet JERCAT
            aiState.account = jercatState.account;
            aiState.provider = jercatState.provider;
            aiState.isConnected = true;
            aiState.balances.bnb = parseFloat(jercatState.balanceBNB);
            aiState.balances.usdt = parseFloat(jercatState.balanceUSDT);
            
            // Afficher les infos
            document.getElementById('aiWalletDisplay').textContent = 
                aiState.account.slice(0, 6) + '...' + aiState.account.slice(-4);
            document.getElementById('aiJercatBalance').textContent = jercatState.balanceJERCAT.toFixed(2);
            document.getElementById('aiWalletAddress').textContent = 
                aiState.account.slice(0, 6) + '...' + aiState.account.slice(-4);
            document.getElementById('aiBnbBalance').textContent = aiState.balances.bnb.toFixed(4);
            document.getElementById('aiUsdtBalance').textContent = aiState.balances.usdt.toFixed(2);
            
            initAIChart();
            connectAIWebSocket();
            startAIUptimeCounter();
            requestAIWakeLock();
            
            console.log('‚úÖ Bot IA pr√™t');
        }

        function initAIChart() {
            const ctx = document.getElementById('aiPriceChart').getContext('2d');
            aiPriceChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'Prix',
                        data: [],
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        borderWidth: 2,
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        x: { 
                            grid: { color: 'rgba(0, 0, 0, 0.05)' },
                            ticks: { color: '#6b7280' }
                        },
                        y: { 
                            grid: { color: 'rgba(0, 0, 0, 0.05)' },
                            ticks: { color: '#6b7280' }
                        }
                    }
                }
            });
        }

        function connectAIWebSocket() {
            if (aiWs) aiWs.close();
            
            const symbol = aiState.selectedCrypto.toLowerCase();
            aiWs = new WebSocket(`wss://stream.binance.com:9443/ws/${symbol}@ticker`);
            
            aiWs.onopen = () => {
                console.log('‚úÖ WebSocket AI connect√©');
                document.getElementById('aiWsStatus').textContent = 'Connect√©';
                document.getElementById('aiWsStatus').className = 'font-bold text-green-600';
            };
            
            aiWs.onmessage = (event) => {
                const data = JSON.parse(event.data);
                aiState.currentPrice = parseFloat(data.c);
                
                aiState.priceHistory.push({
                    time: new Date().toLocaleTimeString(),
                    price: aiState.currentPrice
                });
                
                if (aiState.priceHistory.length > 50) {
                    aiState.priceHistory.shift();
                }
                
                document.getElementById('aiCurrentPrice').textContent = '$' + aiState.currentPrice.toFixed(2);
                
                if (aiState.priceHistory.length % 5 === 0) {
                    updateAIChart();
                }
            };
            
            aiWs.onerror = () => {
                document.getElementById('aiWsStatus').textContent = 'Erreur';
                document.getElementById('aiWsStatus').className = 'font-bold text-red-600';
            };
            
            aiWs.onclose = () => {
                console.log('üîå WebSocket AI d√©connect√©');
                document.getElementById('aiWsStatus').textContent = 'D√©connect√©';
                document.getElementById('aiWsStatus').className = 'font-bold text-yellow-600';
                
                setTimeout(() => {
                    if (aiState.isConnected) {
                        console.log('üîÑ Reconnexion WebSocket AI...');
                        connectAIWebSocket();
                    }
                }, 5000);
            };
        }

        function updateAIChart() {
            if (!aiPriceChart) return;
            
            aiPriceChart.data.labels = aiState.priceHistory.map(p => p.time);
            aiPriceChart.data.datasets[0].data = aiState.priceHistory.map(p => p.price);
            aiPriceChart.update('none');
        }

        function changeAICrypto() {
            aiState.selectedCrypto = document.getElementById('aiCryptoSelect').value;
            aiState.priceHistory = [];
            connectAIWebSocket();
        }

        async function requestAIWakeLock() {
            try {
                if ('wakeLock' in navigator) {
                    aiState.wakeLock = await navigator.wakeLock.request('screen');
                    console.log('‚úÖ Wake Lock AI activ√©');
                    document.getElementById('aiWakeLockStatus').textContent = 'Actif (Wake Lock)';
                    
                    aiState.wakeLock.addEventListener('release', () => {
                        console.log('‚ö†Ô∏è Wake Lock AI lib√©r√©');
                        setTimeout(requestAIWakeLock, 1000);
                    });
                } else {
                    console.log('‚ö†Ô∏è Wake Lock non support√©');
                    document.getElementById('aiWakeLockStatus').textContent = 'Actif (Alternatif)';
                }
            } catch (err) {
                console.warn('‚ö†Ô∏è Wake Lock AI non disponible');
                document.getElementById('aiWakeLockStatus').textContent = 'Actif (Alternatif)';
            }
        }

        function startAIUptimeCounter() {
            aiState.startTime = Date.now();
            aiUptimeInterval = setInterval(() => {
                const elapsed = Date.now() - aiState.startTime;
                const hours = Math.floor(elapsed / 3600000);
                const minutes = Math.floor((elapsed % 3600000) / 60000);
                const seconds = Math.floor((elapsed % 60000) / 1000);
                
                document.getElementById('aiUptime').textContent = 
                    `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, 1000);
        }

        function switchAIConnectionMode() {
            aiState.connectionMode = document.getElementById('aiConnectionMode').value;
            
            if (aiState.connectionMode === 'privatekey') {
                document.getElementById('aiPrivatekeySection').style.display = 'block';
            } else {
                document.getElementById('aiPrivatekeySection').style.display = 'none';
            }
        }

        function toggleAIPrivateKeyVisibility() {
            const input = document.getElementById('aiPrivateKeyInput');
            input.type = input.type === 'password' ? 'text' : 'password';
        }

        async function connectAIWithPrivateKey() {
            const pkInput = document.getElementById('aiPrivateKeyInput').value.trim();
            
            if (!pkInput) {
                alert('‚ùå Entrez votre cl√© priv√©e');
                return;
            }

            try {
                const privateKey = pkInput.startsWith('0x') ? pkInput : '0x' + pkInput;
                
                if (privateKey.length !== 66) {
                    alert('‚ùå Cl√© priv√©e invalide');
                    return;
                }
                
                aiState.provider = new ethers.providers.JsonRpcProvider(BSC_RPC);
                aiState.privateKeyWallet = new ethers.Wallet(privateKey, aiState.provider);
                aiState.account = aiState.privateKeyWallet.address;
                
                console.log('‚úÖ Mode Auto AI activ√©:', aiState.account);
                alert('‚úÖ Mode Automatique 24/7 activ√© pour le bot IA !');
                
                document.getElementById('aiConnectionStatus').innerHTML = `
                    <span class="status-dot status-online"></span>
                    Mode Auto
                `;
                
            } catch (error) {
                console.error('‚ùå Erreur cl√© priv√©e AI:', error);
                alert('‚ùå Cl√© priv√©e invalide: ' + error.message);
            }
        }

        function setAICapital() {
            const capital = parseFloat(document.getElementById('aiTradingCapital').value);
            
            if (!capital || capital < 10) {
                alert('‚ùå Capital minimum: 10 USDT');
                return;
            }
            
            if (capital > aiState.balances.usdt) {
                alert('‚ùå Capital sup√©rieur au solde disponible');
                return;
            }
            
            aiState.capital = capital;
            alert(`‚úÖ Capital d√©fini: ${capital} USDT pour la comp√©tition IA`);
        }

        function updateAISlippage() {
            const slippage = parseFloat(document.getElementById('aiSlippageInput').value);
            
            if (slippage < 0.5 || slippage > 10) {
                alert('‚ùå Slippage doit √™tre entre 0.5% et 10%');
                return;
            }
            
            aiState.slippage = slippage;
            alert(`‚úÖ Slippage mis √† jour: ${slippage}%`);
            addAILog('system', '‚öôÔ∏è Configuration', `Slippage: ${slippage}%`);
        }

        function toggleAISelection(aiName) {
            aiState.activeAIs[aiName] = !aiState.activeAIs[aiName];
            
            const card = document.getElementById(`ai-card-${aiName}`);
            const checkbox = document.getElementById(`ai-check-${aiName}`);
            
            if (aiState.activeAIs[aiName]) {
                card.classList.add('active');
                checkbox.checked = true;
            } else {
                card.classList.remove('active');
                checkbox.checked = false;
            }
        }

        async function startAICompetition() {
            const activeCount = Object.values(aiState.activeAIs).filter(v => v).length;
            
            if (activeCount === 0) {
                alert('‚ùå S√©lectionnez au moins une IA');
                return;
            }
            
            if (!aiState.isConnected || aiState.capital === 0) {
                alert('‚ùå D√©finissez le capital avant de d√©marrer');
                return;
            }
            
            aiState.competitionRunning = true;
            
            document.getElementById('aiStartBtn').style.display = 'none';
            document.getElementById('aiStopBtn').style.display = 'block';
            
            addAILog('system', 'üöÄ Comp√©tition d√©marr√©e !', `${activeCount} IA(s) actives ‚Ä¢ Capital: $${aiState.capital}`);
            
            aiCompetitionInterval = setInterval(() => {
                analyzeAndTradeAI();
            }, 60000); // Check toutes les minutes
            
            console.log('‚úÖ Comp√©tition IA d√©marr√©e');
        }

        function stopAICompetition() {
            aiState.competitionRunning = false;
            
            if (aiCompetitionInterval) {
                clearInterval(aiCompetitionInterval);
                aiCompetitionInterval = null;
            }
            
            document.getElementById('aiStartBtn').style.display = 'block';
            document.getElementById('aiStopBtn').style.display = 'none';
            
            addAILog('system', '‚è∏Ô∏è Comp√©tition arr√™t√©e', 'Toutes les IA ont √©t√© mises en pause');
            
            console.log('‚è∏Ô∏è Comp√©tition IA arr√™t√©e');
        }

        async function analyzeAndTradeAI() {
            if (!aiState.competitionRunning) return;
            
            console.log('üìä Analyse IA en cours...');
            
            for (const [aiName, isActive] of Object.entries(aiState.activeAIs)) {
                if (!isActive) continue;
                
                // Simulation simple pour l'exemple
                const sentiment = Math.random() > 0.6 ? 'BUY' : (Math.random() > 0.5 ? 'SELL' : 'HOLD');
                
                if (sentiment === 'BUY' && !aiState.positions[aiName]) {
                    addAILog(aiName, 'üîç ANALYSE', 'Signal d\'achat d√©tect√©');
                } else if (sentiment === 'SELL' && aiState.positions[aiName]) {
                    addAILog(aiName, 'üîç ANALYSE', 'Signal de vente d√©tect√©');
                }
            }
            
            updateAILeaderboard();
        }

        function updateAILeaderboard() {
            const sorted = Object.entries(aiState.aiStats)
                .filter(([name]) => aiState.activeAIs[name])
                .sort(([, a], [, b]) => b.profit - a.profit);
            
            const icons = { claude: 'üß†', gemini: 'üíé', chatgpt: 'üöÄ', grok: '‚ö°' };
            
            const html = sorted.map(([name, stats], index) => {
                const medal = index === 0 ? 'ü•á' : index === 1 ? 'ü•à' : index === 2 ? 'ü•â' : 'üîπ';
                const winRate = stats.trades > 0 ? ((stats.wins / stats.trades) * 100).toFixed(1) : 0;
                
                return `
                    <div class="bg-gray-50 border-2 border-gray-200 rounded-lg p-4 slide-in">
                        <div class="flex items-center justify-between mb-2">
                            <div class="flex items-center gap-2">
                                <span class="text-2xl">${medal}</span>
                                <span class="text-xl">${icons[name]}</span>
                                <span class="font-bold text-gray-800">${name.charAt(0).toUpperCase() + name.slice(1)}</span>
                            </div>
                            <span class="text-xl font-bold ${stats.profit >= 0 ? 'text-green-600' : 'text-red-600'}">
                                ${stats.profit >= 0 ? '+' : ''}$${stats.profit.toFixed(2)}
                            </span>
                        </div>
                        <div class="grid grid-cols-3 gap-2 text-xs text-gray-600">
                            <div>Trades: <span class="text-gray-800 font-bold">${stats.trades}</span></div>
                            <div>Wins: <span class="text-green-600 font-bold">${stats.wins}</span></div>
                            <div>Win Rate: <span class="font-bold">${winRate}%</span></div>
                        </div>
                    </div>
                `;
            }).join('');
            
            document.getElementById('aiLeaderboard').innerHTML = html || '<div class="text-center text-gray-500 py-8">Aucune IA active</div>';
        }

        function addAILog(source, action, details) {
            const timestamp = new Date().toLocaleTimeString();
            const icons = { 
                claude: 'üß†', 
                gemini: 'üíé', 
                chatgpt: 'üöÄ',
                grok: '‚ö°',
                system: '‚öôÔ∏è'
            };
            
            const log = { timestamp, source, action, details };
            
            aiState.tradeLogs.unshift(log);
            if (aiState.tradeLogs.length > 100) aiState.tradeLogs.pop();
            
            renderAILogs();
        }

        function renderAILogs() {
            const icons = { 
                claude: 'üß†', 
                gemini: 'üíé', 
                chatgpt: 'üöÄ',
                grok: '‚ö°',
                system: '‚öôÔ∏è'
            };
            
            const html = aiState.tradeLogs.map(log => `
                <div class="bg-gray-50 border border-gray-200 rounded-lg p-3 slide-in">
                    <div class="flex items-start gap-3">
                        <span class="text-2xl">${icons[log.source] || 'üìä'}</span>
                        <div class="flex-1">
                            <div class="flex items-center gap-2 mb-1">
                                <span class="font-bold text-gray-800">${log.source.toUpperCase()}</span>
                                <span class="text-xs text-gray-500">${log.timestamp}</span>
                            </div>
                            <p class="text-sm font-semibold mb-1 text-gray-700">${log.action}</p>
                            <p class="text-xs text-gray-600">${log.details}</p>
                        </div>
                    </div>
                </div>
            `).join('');
            
            document.getElementById('aiTradeLogs').innerHTML = html || 
                '<div class="text-center text-gray-500 py-8">Aucun trade pour le moment</div>';
        }

        function clearAILogs() {
            aiState.tradeLogs = [];
            renderAILogs();
        }

        // √âcouter les changements de compte
        if (typeof window.ethereum !== 'undefined') {
            ethereum.on('accountsChanged', (accounts) => {
                if (accounts.length === 0) {
                    location.reload();
                } else {
                    location.reload();
                }
            });

            ethereum.on('chainChanged', () => {
                location.reload();
            });
        }

        console.log('üê± JERCAT Trading Platform charg√©e');
        console.log('‚úÖ 2 bots disponibles: Bot Pro + Comp√©tition IA');
    </script>
</body>
</html>
